Started by user [8mha:AAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzeEgZu/dLi1CL9xJTczDwACG0V4sAAAAA=[0mJenkins Admin
[EnvInject] - Loading node environment variables.
Building in workspace /var/lib/jenkins/jobs/todo-prod-app-test/workspace


OpenShiftImageStreams checkout called for #1


OpenShiftImageStreams calcRevisionsFromBuild for #1



Auth authToken len 846


OpenShiftImageStreams response from rest call {"kind":"ImageStream","apiVersion":"v1","metadata":{"name":"jws-app","namespace":"jws-app-todo-qa","selfLink":"/oapi/v1/namespaces/jws-app-todo-qa/imagestreams/jws-app","uid":"e45f1efa-9d1d-11e5-8f43-525400b36d1d","resourceVersion":"186281","creationTimestamp":"2015-12-07T20:05:41Z","labels":{"application":"jws-app","name":"jws-app-todo","template":"jws30-tomcat8-mysql-persistent-s2i","xpaas":"1.1.0"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp","openshift.io/image.dockerRepositoryCheck":"2015-12-07T20:05:41Z"}},"spec":{"tags":[{"name":"promote","from":{"kind":"ImageStreamTag","name":"jws-app:latest"}}]},"status":{"dockerImageRepository":"172.30.155.167:5000/jws-app-todo-qa/jws-app","tags":[{"tag":"latest","items":[{"created":"2015-12-07T22:54:55Z","dockerImageReference":"172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af","image":"sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"},{"created":"2015-12-07T20:07:57Z","dockerImageReference":"172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f","image":"sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"}]},{"tag":"promote","items":[{"created":"2015-12-07T22:54:55Z","dockerImageReference":"172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af","image":"sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"}]}]}}



OpenShiftImageStreams after json processing {
    "kind" => "ImageStream",
    "apiVersion" => "v1",
    "metadata" => {
        "name" => "jws-app",
        "namespace" => "jws-app-todo-qa",
        "selfLink" => "/oapi/v1/namespaces/jws-app-todo-qa/imagestreams/jws-app",
        "uid" => "e45f1efa-9d1d-11e5-8f43-525400b36d1d",
        "resourceVersion" => "186281",
        "creationTimestamp" => "2015-12-07T20:05:41Z",
        "labels" => {
            "application" => "jws-app",
            "name" => "jws-app-todo",
            "template" => "jws30-tomcat8-mysql-persistent-s2i",
            "xpaas" => "1.1.0"
        },
        "annotations" => {
            "openshift.io/generated-by" => "OpenShiftNewApp",
            "openshift.io/image.dockerRepositoryCheck" => "2015-12-07T20:05:41Z"
        }
    },
    "spec" => {"tags" => [{
        "name" => "promote",
        "from" => {
            "kind" => "ImageStreamTag",
            "name" => "jws-app:latest"
        }
    }]},
    "status" => {
        "dockerImageRepository" => "172.30.155.167:5000/jws-app-todo-qa/jws-app",
        "tags" => [
            {
                "tag" => "latest",
                "items" => [
                    {
                        "created" => "2015-12-07T22:54:55Z",
                        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
                        "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
                    },
                    {
                        "created" => "2015-12-07T20:07:57Z",
                        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
                        "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
                    }
                ]
            },
            {
                "tag" => "promote",
                "items" => [{
                    "created" => "2015-12-07T22:54:55Z",
                    "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
                    "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
                }]
            }
        ]
    }
}


OpenShiftImageStreams status element {
    "dockerImageRepository" => "172.30.155.167:5000/jws-app-todo-qa/jws-app",
    "tags" => [
        {
            "tag" => "latest",
            "items" => [
                {
                    "created" => "2015-12-07T22:54:55Z",
                    "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
                    "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
                },
                {
                    "created" => "2015-12-07T20:07:57Z",
                    "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
                    "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
                }
            ]
        },
        {
            "tag" => "promote",
            "items" => [{
                "created" => "2015-12-07T22:54:55Z",
                "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
                "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
            }]
        }
    ]
}


OpenShiftImageStreams tags element [
    {
        "tag" => "latest",
        "items" => [
            {
                "created" => "2015-12-07T22:54:55Z",
                "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
                "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
            },
            {
                "created" => "2015-12-07T20:07:57Z",
                "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
                "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
            }
        ]
    },
    {
        "tag" => "promote",
        "items" => [{
            "created" => "2015-12-07T22:54:55Z",
            "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
            "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
        }]
    }
]


OpenShiftImageStreams tag wrappers [{
    "tag" => "latest",
    "items" => [
        {
            "created" => "2015-12-07T22:54:55Z",
            "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
            "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
        },
        {
            "created" => "2015-12-07T20:07:57Z",
            "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
            "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
        }
    ]
}, {
    "tag" => "promote",
    "items" => [{
        "created" => "2015-12-07T22:54:55Z",
        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
        "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
    }]
}]


OpenShiftImageStreams tag wrapper {
    "tag" => "latest",
    "items" => [
        {
            "created" => "2015-12-07T22:54:55Z",
            "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
            "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
        },
        {
            "created" => "2015-12-07T20:07:57Z",
            "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
            "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
        }
    ]
}


OpenShiftImageStreams tag  latest, comparing to promote,  items [
    {
        "created" => "2015-12-07T22:54:55Z",
        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
        "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
    },
    {
        "created" => "2015-12-07T20:07:57Z",
        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f",
        "image" => "sha256:58b2fb00ec7f1c20f8df877f102569729a9c5714284e6ad325d762fcb0ba478f"
    }
]


OpenShiftImageStreams tag wrapper {
    "tag" => "promote",
    "items" => [{
        "created" => "2015-12-07T22:54:55Z",
        "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
        "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
    }]
}


OpenShiftImageStreams tag  promote, comparing to promote,  items [{
    "created" => "2015-12-07T22:54:55Z",
    "dockerImageReference" => "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af",
    "image" => "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"
}]


OpenShiftImageStreams created "2015-12-07T22:54:55Z" dockerImg "172.30.155.167:5000/jws-app-todo-qa/jws-app@sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af" image "sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af"


OpenShiftImageStreams image ID used for Jenkins 'commitId' is sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af


OpenShiftImageStreams calcRevisionsFromBuild returning ImageStreamRevisionState [commitId=sha256:e98cb58731089c6545fa05066403de54168304d1b4758b6230b8ed42582079af]


BUILD STEP:  OpenShiftDeploymentVerifier in perform checking for jws-app wanting to confirm we are at least at replica count 1


BUILD STEP EXIT:  OpenShiftDeploymentVerifier scaled with appropriate number of replicas
Finished: SUCCESS
